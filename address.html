<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="address.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <meta charset="UTF-8">
  <title>Address Input</title>
</head>
<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>                        
        </button>
        <a class="navbar-brand" href="index007.html">RecycleShop</a>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li class="active"><a href="index007.html"><span>&#9851;</span></a></li>
        </ul>
      </div>
    </div>
  </nav>




  <div class="row">
    <div class="col-75">
      <div class="container">
        <div class="row">
          <div class="col-50">
            <h3>Shipping Address</h3><br>
            <label for="fname"><i class="user"></i> Full Name</label>
            <input type="text" id="fname" name="fname" placeholder="John Wick">
            <label for="email"><i class="email"></i> Email</label>
            <input type="text" id="email" name="email" placeholder="john@example.com">
            <label for="adr"><i class="address"></i> Address</label>
            <input type="text" id="adr" name="address" placeholder="111 A Street">
            <label for="city"><i class="city"></i> City</label>
            <input type="text" id="city" name="city" placeholder="New York">
            <div class="row">
              <div class="col-50">
                <label for="state">&nbsp　State</label>
                <input type="text" id="state" name="state" placeholder="NY">
              </div>
              <div class="col-50">
                <label for="zip">&nbsp　Zip</label>
                <input type="text" id="zip" name="zip" placeholder="10001">
                <input type="hidden" id="usr" name="usr" value="">
                <button class="checkout"><span><b>Continue to checkout</b></span><i></i></button>
              </div>
            </div>
          </div>
        </div>
        <div id="card-details"></div>
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      // Retrieve form data from local storage
      const formData = JSON.parse(localStorage.getItem("checkoutFormData"));

      if (formData) {
        // Set form field values
        $('#fname').val(formData.fname);
        $('#email').val(formData.email);
        $('#adr').val(formData.address);
        $('#city').val(formData.city);
        $('#state').val(formData.state);
        $('#zip').val(formData.zip);
      }

      // Retrieve query parameters from URL
      const params = new URLSearchParams(window.location.search);
      const price = params.get("price");
      const quantity = params.get("quantity");
      const size = params.get("size");
      const color = params.get("color");

      const cardDetailsElement = document.getElementById('card-details');
      cardDetailsElement.innerHTML = `
        <p>Price: ${price}</p>
        <p>Quantity: ${quantity}</p>
        <p>Size: ${size}</p>
        <p>Color: ${color}</p>
      `;

      // Handle checkout button click
      $('.checkout').click(function(e) {
        e.preventDefault(); // Prevent form submission
        // Retrieve form field values
        const fullName = $('#fname').val();
        const email = $('#email').val();
        const address = $('#adr').val();
        const city = $('#city').val();
        const state = $('#state').val();
        const zip = $('#zip').val();

        // Redirect to check2.html with query parameters
        const redirectUrl = `check2.html?usr=&fname=${fullName}&email=${email}&adr=${address}&city=${city}&state=${state}&zip=${zip}&price=${price}&quantity=${quantity}&size=${size}&color=${color}`;
        window.location.href = redirectUrl;
      });
    });
  </script>
</body>
</html>
Please replace the existing code in address.html with the corrected code above. This should resolve the issue, and the checkout button should work as expected, redirecting to check2.html with the necessary query parameters.






