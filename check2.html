<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="check2.1.css">
  <meta charset="UTF-8">
  <title>Check2</title>
</head>

<body>
  <div id="wrapper">
    <div id="container">
      
      <div id="right-col">
        <h2>Payment</h2>
        <div id="logotype">
          <img id="mastercard" src="pngegg.png" alt="" />
          <label for="card-type">Card Type</label>
          <select name="card-type" id="card-type">
            <option value="visa">Visa</option>
            <option value="mastercard">MasterCard</option>
          </select>
        </div>
        <form>
          <label for="">Cardnumber</label>
          <div id="cardnumber">
            <input type="text" maxlength="4" placeholder="0000" id="card-number-part1" oninput="limitCardNumberPart(this, 4)" /> <span class="divider">-</span>
            <input type="text" maxlength="4" placeholder="0000" id="card-number-part2" oninput="limitCardNumberPart(this, 4)" /> <span class="divider">-</span>
            <input type="text" maxlength="4" placeholder="0000" id="card-number-part3" oninput="limitCardNumberPart(this, 4)" /> <span class="divider">-</span>
            <input type="text" maxlength="4" placeholder="0000" id="card-number-part4" oninput="limitCardNumberPart(this, 4)" />
          </div>
          <label for="">Cardholder</label>
          <input id="cardholder" type="text" placeholder="John A" />
          <div class="left">
            <label for="">Expiration Date</label>
            <select name="month" id="month" size="1">
              <option value="00">Month</option>
              <option value="01">January</option>
              <option value="02">February</option>
              <option value="03">March</option>
              <option value="04">April</option>
              <option value="05">May</option>
              <option value="06">June</option>
              <option value="07">July</option>
              <option value="08">August</option>
              <option value="09">September</option>
              <option value="10">October</option>
              <option value="11">November</option>
              <option value="12">December</option>
            </select>
            <select name="year" id="year" size="1">
              <option value="00">Year</option>
              <option value="01">2023</option>
              <option value="02">2024</option>
              <option value="03">2025</option>
              <option value="04">2026</option>
              <option value="05">2027</option>
              <option value="06">2028</option>
              <option value="07">2029</option>
              <option value="08">2030</option>
              <option value="09">2031</option>
              <option value="10">2032</option>
            </select>
          </div>
          <div class="right">
            <label id="cvc-label" for="">CVC <i class="fa fa-question-circle-o" aria-hidden="true"></i></label><br>
            <input id="cvc" type="text" placeholder="123" maxlength="3" />
          </div>
          
          <p id="support">Having a problem with checkout? <a href="#">Contact our support</a>.</p>
          <button type="button" id="purchase" onclick="redirectToConfirm()">
            <span>Confirm</span>
            <i></i>
          </button>
        </form>
      </div>
      <div id="left-col">
        <div id="card-details"></div>
        <script>
          const params = new URLSearchParams(window.location.search);
          const usr = params.get("usr");
          const fname = params.get("fname");
          const email = params.get("email");
          const adr = params.get("adr");
          const city = params.get("city");
          const state = params.get("state");
          const zip = params.get("zip");
          const price = params.get("price");
          const quantity = params.get("quantity");
          const size = params.get("size");
          const color = params.get("color");
        
          const cardDetailsElement = document.getElementById('card-details');
          cardDetailsElement.innerHTML = `
            <p>Usr: ${usr}</p>
            <p>Full Name: ${fname}</p>
            <p>Email: ${email}</p>
            <p>Address: ${adr}</p>
            <p>City: ${city}</p>
            <p>State: ${state}</p>
            <p>Zip: ${zip}</p>
            <p>Price: ${price}</p>
            <p>Quantity: ${quantity}</p>
            <p>Size: ${size}</p>
            <p>Color: ${color}</p>
          `;

         
        
          function redirectToConfirm() {
            var cardNumberPart1 = document.getElementById('card-number-part1').value;
            var cardNumberPart2 = document.getElementById('card-number-part2').value;
            var cardNumberPart3 = document.getElementById('card-number-part3').value;
            var cardNumberPart4 = document.getElementById('card-number-part4').value;
            var cardholder = document.getElementById('cardholder').value;
            var month = document.getElementById('month').value;
            var year = document.getElementById('year').value;
            var cvc = document.getElementById('cvc').value;

            if (!cardNumberPart1 || !cardNumberPart2 || !cardNumberPart3 || !cardNumberPart4 || !cardholder || !month || !year || !cvc) {
              alert('Please fill in all required fields before continuing.');
              return;
            }
        
            // Redirect to confirm.html with all the parameters
            var redirectUrl = `confirm.html?usr=${usr}&fname=${fname}&email=${email}&adr=${adr}&city=${city}&state=${state}&zip=${zip}&price=${price}&quantity=${quantity}&size=${size}&color=${color}&card-number-part1=${cardNumberPart1}&card-number-part2=${cardNumberPart2}&card-number-part3=${cardNumberPart3}&card-number-part4=${cardNumberPart4}&cardholder=${cardholder}&month=${month}&year=${year}&cvc=${cvc}`;
            window.location.href = redirectUrl;
          }


        </script>
        
 
      </div>
    </div>
  </div>
  
</body>
</html>
